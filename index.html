<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Ù„Ø¹Ø¨Ø© Ø§Ù„Ù‚Ø§ØªÙ„">
<meta name="theme-color" content="#050505">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ù‚Ø§ØªÙ„</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;500;600;700;800;900&family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg-primary: #050505;
  --bg-secondary: #0e0e0e;
  --bg-card: #141414;
  --bg-elevated: #1a1a1a;
  --border-subtle: rgba(255,255,255,0.06);
  --border-hover: rgba(255,255,255,0.12);
  --text-primary: #f0f0f0;
  --text-secondary: #888;
  --text-muted: #555;
  --red: #ef4444;
  --red-glow: rgba(239,68,68,0.3);
  --green: #22c55e;
  --green-glow: rgba(34,197,94,0.3);
  --gold-1: #f59e0b;
  --gold-2: #fbbf24;
  --gold-3: #fcd34d;
  --accent: #6366f1;
  --accent-glow: rgba(99,102,241,0.25);
  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);
}

* { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color: transparent; }

body {
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: 'IBM Plex Sans Arabic', 'Noto Kufi Arabic', sans-serif;
  direction: rtl;
  min-height: 100vh;
  min-height: 100dvh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  overscroll-behavior: none;
}

#root {
  min-height: 100vh;
  min-height: 100dvh;
}

.app-wrapper {
  min-height: 100vh;
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  padding-top: var(--safe-top);
  padding-bottom: var(--safe-bottom);
}

.app-wrapper::before {
  content: '';
  position: fixed;
  top: -50%; left: -50%;
  width: 200%; height: 200%;
  background:
    radial-gradient(ellipse at 20% 20%, rgba(99,102,241,0.04) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 80%, rgba(239,68,68,0.03) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

.noise-overlay {
  position: fixed; inset: 0;
  opacity: 0.02;
  pointer-events: none; z-index: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 128px;
}

.container {
  width: 100%;
  max-width: 480px;
  padding: 16px 20px;
  position: relative;
  z-index: 1;
}

/* â”€â”€ Header â”€â”€ */
.header { text-align: center; padding: 32px 0 16px; }

.logo-icon {
  width: 72px; height: 72px;
  margin: 0 auto 14px;
  border-radius: 20px;
  background: linear-gradient(145deg, var(--bg-elevated), var(--bg-card));
  border: 1px solid var(--border-subtle);
  display: flex; align-items: center; justify-content: center;
  font-size: 34px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.5);
  animation: float 4s ease-in-out infinite;
}

@keyframes float {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

.header h1 {
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 28px; font-weight: 800;
  background: linear-gradient(135deg, #fff 0%, #aaa 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 4px;
}

.header p { color: var(--text-muted); font-size: 13px; }

/* â”€â”€ Section â”€â”€ */
.section { margin-bottom: 18px; }

.section-label {
  font-size: 11px; font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: var(--text-muted);
  margin-bottom: 10px;
  padding-right: 4px;
}

/* â”€â”€ Counter â”€â”€ */
.counter-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 16px;
  padding: 18px;
  display: flex; align-items: center; justify-content: space-between;
}

.counter-info { display: flex; align-items: center; gap: 12px; }

.counter-icon {
  width: 44px; height: 44px;
  border-radius: 12px;
  background: linear-gradient(135deg, rgba(99,102,241,0.15), rgba(99,102,241,0.05));
  display: flex; align-items: center; justify-content: center;
  font-size: 20px;
}

.counter-text h3 {
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 15px; font-weight: 700;
}

.counter-text span { font-size: 12px; color: var(--text-muted); }

.counter-controls {
  display: flex; align-items: center; gap: 2px;
  background: var(--bg-primary);
  border-radius: 14px; padding: 4px;
  border: 1px solid var(--border-subtle);
}

.counter-btn {
  width: 42px; height: 42px;
  border-radius: 11px; border: none;
  background: transparent;
  color: var(--text-primary);
  font-size: 22px; font-weight: 500;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.15s;
  -webkit-user-select: none;
}

.counter-btn:active { background: var(--bg-elevated); transform: scale(0.9); }
.counter-btn:disabled { opacity: 0.2; }

.counter-value {
  width: 44px; text-align: center;
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 24px; font-weight: 800;
  color: var(--accent);
}

/* â”€â”€ Category Grid â”€â”€ */
.scroll-cats {
  max-height: 360px;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
.scroll-cats::-webkit-scrollbar { display: none; }

.category-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
}

.cat-btn {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 14px;
  padding: 14px 6px;
  cursor: pointer;
  text-align: center;
  transition: all 0.2s;
  -webkit-user-select: none;
}

.cat-btn:active { transform: scale(0.95); }

.cat-btn.selected {
  border-color: var(--accent);
  background: linear-gradient(135deg, rgba(99,102,241,0.12), rgba(99,102,241,0.03));
  box-shadow: 0 0 24px var(--accent-glow);
}

.cat-btn.random-btn {
  grid-column: span 3;
  display: flex; align-items: center; justify-content: center; gap: 10px;
  padding: 16px;
}

.cat-emoji { font-size: 22px; display: block; margin-bottom: 5px; }

.cat-name {
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 11px; font-weight: 600;
  color: var(--text-secondary);
  line-height: 1.4;
}

.cat-btn.selected .cat-name { color: var(--text-primary); }
.random-btn .cat-name { font-size: 13px; margin-bottom: 0; }

/* â”€â”€ Start Button â”€â”€ */
.start-btn {
  width: 100%;
  padding: 16px; border: none;
  border-radius: 14px;
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 16px; font-weight: 700;
  cursor: pointer;
  transition: all 0.25s;
  margin-top: 6px;
}

.start-btn.ready {
  background: linear-gradient(135deg, var(--accent), #818cf8);
  color: white;
  box-shadow: 0 4px 28px var(--accent-glow);
}

.start-btn.ready:active { transform: scale(0.97); }

.start-btn:disabled {
  background: var(--bg-card);
  color: var(--text-muted);
  border: 1px solid var(--border-subtle);
}

/* â”€â”€ Reveal Phase â”€â”€ */
.reveal-screen {
  display: flex; flex-direction: column; align-items: center;
  min-height: 80vh; min-height: 80dvh;
  justify-content: center;
  padding: 20px; text-align: center;
}

.player-badge {
  display: inline-flex; align-items: center; gap: 8px;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 100px;
  padding: 10px 20px;
  margin-bottom: 20px;
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 14px; font-weight: 600;
  color: var(--text-secondary);
}

.player-badge .num { color: var(--accent); font-weight: 800; }

.progress-bar {
  width: 100%; max-width: 220px;
  height: 3px;
  background: var(--bg-elevated);
  border-radius: 2px;
  margin-bottom: 32px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: var(--accent);
  border-radius: 2px;
  transition: width 0.5s cubic-bezier(0.4,0,0.2,1);
}

/* Waiting */
.waiting-state { animation: fadeUp 0.45s cubic-bezier(0.4,0,0.2,1); }

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: translateY(0); }
}

.waiting-icon {
  width: 96px; height: 96px;
  border-radius: 28px;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  display: flex; align-items: center; justify-content: center;
  font-size: 42px;
  margin: 0 auto 18px;
  box-shadow: 0 8px 40px rgba(0,0,0,0.35);
  animation: lockPulse 2.5s ease-in-out infinite;
}

@keyframes lockPulse {
  0%,100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.03); }
}

.waiting-title {
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 20px; font-weight: 800;
  margin-bottom: 8px;
}

.waiting-sub {
  color: var(--text-muted);
  font-size: 13px;
  margin-bottom: 28px;
  line-height: 1.7;
}

.reveal-btn {
  padding: 14px 52px; border: none;
  border-radius: 14px;
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 15px; font-weight: 700;
  cursor: pointer;
  background: var(--bg-elevated);
  color: var(--text-primary);
  border: 1px solid var(--border-hover);
  transition: all 0.2s;
}

.reveal-btn:active { transform: scale(0.96); background: var(--bg-card); }

/* Role Reveal */
.role-reveal { animation: roleIn 0.5s cubic-bezier(0.4,0,0.2,1); }

@keyframes roleIn {
  from { opacity: 0; transform: scale(0.88); }
  to { opacity: 1; transform: scale(1); }
}

.role-card {
  width: 250px; height: 330px;
  border-radius: 24px;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  margin: 0 auto 28px;
  position: relative; overflow: hidden;
}

.role-card.killer {
  background: linear-gradient(160deg, #1a0000, #0a0a0a 40%, #1a0000);
  border: 1px solid rgba(239,68,68,0.2);
  box-shadow:
    0 0 60px rgba(239,68,68,0.12),
    inset 0 0 60px rgba(239,68,68,0.04);
}

.role-card.innocent {
  background: linear-gradient(160deg, #001a0a, #0a0a0a 40%, #001a0a);
  border: 1px solid rgba(34,197,94,0.2);
  box-shadow:
    0 0 60px rgba(34,197,94,0.12),
    inset 0 0 60px rgba(34,197,94,0.04);
}

.role-card::before {
  content: '';
  position: absolute;
  top: -1px; left: 20%; right: 20%;
  height: 1px;
}

.role-card.killer::before { background: linear-gradient(90deg, transparent, var(--red), transparent); }
.role-card.innocent::before { background: linear-gradient(90deg, transparent, var(--green), transparent); }

.role-icon {
  font-size: 52px; margin-bottom: 14px;
  filter: drop-shadow(0 4px 12px rgba(0,0,0,0.5));
}

.role-label {
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 22px; font-weight: 800;
  margin-bottom: 8px;
}

.role-card.killer .role-label { color: var(--red); }
.role-card.innocent .role-label { color: var(--green); }

.role-hint { font-size: 12px; color: var(--text-muted); margin-bottom: 14px; }

.secret-word {
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 26px; font-weight: 900;
  background: linear-gradient(135deg, var(--gold-1), var(--gold-2), var(--gold-3), var(--gold-2), var(--gold-1));
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: goldShimmer 3s linear infinite;
}

@keyframes goldShimmer { to { background-position: -200% center; } }

.killer-sub {
  font-size: 13px;
  color: rgba(239,68,68,0.45);
  font-weight: 500;
  padding: 0 20px;
  line-height: 1.6;
}

.next-player-btn {
  padding: 14px 40px; border: none;
  border-radius: 14px;
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 15px; font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
}

.next-player-btn.killer-next {
  background: linear-gradient(135deg, rgba(239,68,68,0.12), rgba(239,68,68,0.04));
  color: var(--red);
  border: 1px solid rgba(239,68,68,0.2);
}

.next-player-btn.innocent-next {
  background: linear-gradient(135deg, rgba(34,197,94,0.12), rgba(34,197,94,0.04));
  color: var(--green);
  border: 1px solid rgba(34,197,94,0.2);
}

.next-player-btn:active { transform: scale(0.96); }

/* â”€â”€ End Screen â”€â”€ */
.end-screen {
  text-align: center;
  animation: fadeUp 0.5s cubic-bezier(0.4,0,0.2,1);
  padding-top: 48px;
}

.end-icon { font-size: 60px; margin-bottom: 18px; animation: float 3s ease-in-out infinite; }

.end-title {
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 24px; font-weight: 800;
  background: linear-gradient(135deg, #fff, #ccc);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 8px;
}

.end-sub {
  color: var(--text-muted);
  font-size: 13px;
  margin-bottom: 32px;
  line-height: 1.8;
}

.end-info-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-bottom: 28px;
}

.end-info-item {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 16px;
  padding: 16px 10px;
}

.end-info-item .label {
  font-size: 10px; font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  color: var(--text-muted);
  margin-bottom: 6px;
}

.end-info-item .value {
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 15px; font-weight: 700;
}

.end-info-item .value.red { color: var(--red); }

.end-info-item .value.gold {
  background: linear-gradient(135deg, var(--gold-1), var(--gold-2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.spoiler-blur {
  filter: blur(8px);
  transition: filter 0.4s;
  cursor: pointer;
  -webkit-user-select: none;
}

.spoiler-blur.show { filter: blur(0); }

.spoiler-hint {
  font-size: 10px;
  color: var(--text-muted);
  margin-top: 4px;
  opacity: 0.7;
}

.restart-btn {
  width: 100%; padding: 16px; border: none;
  border-radius: 14px;
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 16px; font-weight: 700;
  cursor: pointer;
  background: linear-gradient(135deg, var(--accent), #818cf8);
  color: white;
  box-shadow: 0 4px 24px var(--accent-glow);
  transition: all 0.25s;
  margin-bottom: 10px;
}

.restart-btn:active { transform: scale(0.97); }

.new-game-btn {
  width: 100%; padding: 14px;
  border: 1px solid var(--border-subtle);
  border-radius: 14px;
  font-family: 'Noto Kufi Arabic', sans-serif;
  font-size: 14px; font-weight: 600;
  cursor: pointer;
  background: transparent;
  color: var(--text-secondary);
  transition: all 0.2s;
}

.new-game-btn:active { background: var(--bg-card); }
</style>
</head>
<body>
<div id="root"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.26.2/babel.min.js"></script>

<script type="text/babel">
const { useState, useCallback } = React;

const CATEGORIES = {
  "Ø´Ø®ØµÙŠØ§Øª Ø±ÙŠØ§Ø¶ÙŠØ©": ["Ù…Ø­Ù…Ø¯ ØµÙ„Ø§Ø­","ÙƒØ±ÙŠØ³ØªÙŠØ§Ù†Ùˆ Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ","Ù„ÙŠÙˆÙ†ÙŠÙ„ Ù…ÙŠØ³ÙŠ","Ù†ÙŠÙ…Ø§Ø±","ÙƒØ±ÙŠÙ… Ø¨Ù†Ø²ÙŠÙ…Ø§","Ø±ÙŠØ§Ø¶ Ù…Ø­Ø±Ø²","Ø³Ø§Ù„Ù… Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ","Ù„ÙŠØ¨Ø±ÙˆÙ† Ø¬ÙŠÙ…Ø³","Ø³ÙŠØ±ÙŠÙ†Ø§ ÙˆÙŠÙ„ÙŠØ§Ù…Ø²","Ù…Ø§ÙŠÙƒÙ„ Ø¬ÙˆØ±Ø¯Ù†","Ø±ÙˆØ¬Ø± ÙÙŠØ¯Ø±Ø±","Ø±Ø§ÙØ§Ø¦ÙŠÙ„ Ù†Ø§Ø¯Ø§Ù„","Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ ÙƒÙ„Ø§ÙŠ","Ù…Ø§ÙŠÙƒ ØªØ§ÙŠØ³ÙˆÙ†","ÙŠÙˆØ³ÙŠÙ† Ø¨ÙˆÙ„Øª","Ø³Ø§Ø¯ÙŠÙˆ Ù…Ø§Ù†ÙŠ","Ù„ÙˆÙƒØ§ Ù…ÙˆØ¯Ø±ÙŠØªØ´","ÙƒÙŠÙ„ÙŠØ§Ù† Ù…Ø¨Ø§Ø¨ÙŠ","Ø¥ÙŠØ±Ù„ÙŠÙ†Øº Ù‡Ø§Ù„Ø§Ù†Ø¯","ÙÙŠÙ†ÙŠØ³ÙŠÙˆØ³ Ø¬ÙˆÙ†ÙŠÙˆØ±"],
  "ÙÙ†Ø§Ù†ÙˆÙ† ÙˆÙ…Ø´Ø§Ù‡ÙŠØ±": ["Ø¹Ø§Ø¯Ù„ Ø¥Ù…Ø§Ù…","Ø£Ø­Ù…Ø¯ Ø­Ù„Ù…ÙŠ","Ù…Ø­Ù…Ø¯ Ø±Ù…Ø¶Ø§Ù†","ØªØ§Ù…Ø± Ø­Ø³Ù†ÙŠ","Ù†Ø§Ù†Ø³ÙŠ Ø¹Ø¬Ø±Ù…","Ø¥Ù„ÙŠØ³Ø§","ÙƒØ§Ø¸Ù… Ø§Ù„Ø³Ø§Ù‡Ø±","ÙÙŠØ±ÙˆØ²","Ø£Ù… ÙƒÙ„Ø«ÙˆÙ…","Ø¹Ø¨Ø¯Ø§Ù„Ø­Ù„ÙŠÙ… Ø­Ø§ÙØ¸","Ù…Ø­Ù…Ø¯ Ø¹Ø¨Ø¯Ù‡","Ø±Ø§Ø´Ø¯ Ø§Ù„Ù…Ø§Ø¬Ø¯","Ø¨Ù„Ù‚ÙŠØ³","Ø£ØµØ§Ù„Ø©","Ø´ÙŠØ±ÙŠÙ† Ø¹Ø¨Ø¯Ø§Ù„ÙˆÙ‡Ø§Ø¨","Ø°Ø§ ÙˆÙŠÙƒÙ†Ø¯","Ø¯Ø±ÙŠÙƒ","ØªØ§ÙŠÙ„ÙˆØ± Ø³ÙˆÙŠÙØª","Ø¨ÙŠÙˆÙ†Ø³ÙŠÙ‡","Ø¥ÙŠÙ…ÙŠÙ†ÙŠÙ…"],
  "Ø¹Ù„Ù…Ø§Ø¡ ÙˆÙ…ÙÙƒØ±ÙˆÙ†": ["Ø£Ù„Ø¨Ø±Øª Ø£ÙŠÙ†Ø´ØªØ§ÙŠÙ†","Ù†ÙŠÙƒÙˆÙ„Ø§ ØªØ³Ù„Ø§","Ø³ØªÙŠÙÙ† Ù‡ÙˆÙƒÙŠÙ†Øº","Ø¥Ø³Ø­Ø§Ù‚ Ù†ÙŠÙˆØªÙ†","Ø§Ø¨Ù† Ø³ÙŠÙ†Ø§","Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠ","Ø§Ø¨Ù† Ø®Ù„Ø¯ÙˆÙ†","Ù…Ø§Ø±ÙŠ ÙƒÙˆØ±ÙŠ","ØªØ´Ø§Ø±Ù„Ø² Ø¯Ø§Ø±ÙˆÙŠÙ†","ØªÙˆÙ…Ø§Ø³ Ø¥Ø¯ÙŠØ³ÙˆÙ†","Ø£Ø­Ù…Ø¯ Ø²ÙˆÙŠÙ„","Ø¥ÙŠÙ„ÙˆÙ† Ù…Ø§Ø³Ùƒ","Ø³ØªÙŠÙ Ø¬ÙˆØ¨Ø²","Ø¨ÙŠÙ„ ØºÙŠØªØ³","Ù…Ø§Ø±Ùƒ Ø²ÙˆÙƒØ±Ø¨ÙŠØ±Øº"],
  "Ù…Ø§Ø±ÙƒØ§Øª ØªÙ‚Ù†ÙŠØ©": ["Ø¢Ø¨Ù„","Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬","Ø¬ÙˆØ¬Ù„","Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª","Ø³ÙˆÙ†ÙŠ","Ù†ÙŠÙ†ØªÙ†Ø¯Ùˆ","Ù‡ÙˆØ§ÙˆÙŠ","Ø´Ø§ÙˆÙ…ÙŠ","ØªØ³Ù„Ø§","Ø£Ù…Ø§Ø²ÙˆÙ†","Ù†ÙŠØªÙÙ„ÙŠÙƒØ³","Ø³Ø¨ÙˆØªÙŠÙØ§ÙŠ","Ø£ÙˆØ¨Ø±","Ø¥Ù†ÙÙŠØ¯ÙŠØ§","Ø£Ø¯ÙˆØ¨ÙŠ"],
  "Ø³ÙŠØ§Ø±Ø§Øª": ["Ù…Ø±Ø³ÙŠØ¯Ø³","Ø¨ÙŠ Ø¥Ù… Ø¯Ø¨Ù„ÙŠÙˆ","ØªÙˆÙŠÙˆØªØ§","Ù„Ø§Ù…Ø¨ÙˆØ±ØºÙŠÙ†ÙŠ","ÙÙŠØ±Ø§Ø±ÙŠ","Ø¨ÙˆØ±Ø´Ù‡","Ø±ÙˆÙ„Ø² Ø±ÙˆÙŠØ³","Ø£ÙˆØ¯ÙŠ","Ù„ÙƒØ²Ø³","Ø±ÙŠÙ†Ø¬ Ø±ÙˆÙØ±","Ø¨Ù†ØªÙ„ÙŠ","Ù…Ø§ÙƒÙ„Ø§Ø±ÙŠÙ†","Ø¨ÙˆØºØ§ØªÙŠ","Ù‡ÙˆÙ†Ø¯Ø§","Ù†ÙŠØ³Ø§Ù†","ÙÙˆØ±Ø¯","Ø´ÙŠÙØ±ÙˆÙ„ÙŠÙ‡","ØªØ³Ù„Ø§","Ø¬ÙŠØ¨","Ù…Ø§Ø²ÙŠØ±Ø§ØªÙŠ"],
  "Ù…Ø§Ø±ÙƒØ§Øª Ù…Ù„Ø§Ø¨Ø³": ["Ù†Ø§ÙŠÙƒÙŠ","Ø£Ø¯ÙŠØ¯Ø§Ø³","ØºÙˆØªØ´ÙŠ","Ù„ÙˆÙŠØ³ ÙÙŠØªÙˆÙ†","Ø´Ø§Ù†ÙŠÙ„","Ø²Ø§Ø±Ø§","Ø¥ØªØ´ Ø¢Ù†Ø¯ Ø¥Ù…","Ø¨Ø±Ø§Ø¯Ø§","Ø¯ÙŠÙˆØ±","ÙÙŠØ±Ø³Ø§ØªØ´ÙŠ","Ø¨Ø§Ù„ÙŠÙ†Ø³ÙŠØ§ØºØ§","Ø¨Ø±Ø¨Ø±ÙŠ","Ø¬ÙŠÙÙ†Ø´ÙŠ","Ø£Ø±Ù…Ø§Ù†ÙŠ","Ø±Ø§Ù„Ù Ù„ÙˆØ±ÙŠÙ†"],
  "Ù…Ø·Ø§Ø¹Ù… ÙˆØ³Ù„Ø§Ø³Ù„": ["Ù…Ø§ÙƒØ¯ÙˆÙ†Ø§Ù„Ø¯Ø²","ÙƒÙ†ØªØ§ÙƒÙŠ","Ø¨Ø±ØºØ± ÙƒÙ†Øº","ØµØ¨ ÙˆØ§ÙŠ","Ø³ØªØ§Ø±Ø¨ÙƒØ³","Ø¯ÙˆÙ…ÙŠÙ†ÙˆØ²","Ø¨ÙŠØªØ²Ø§ Ù‡Øª","Ù‡Ø±Ø¯ÙŠØ²","Ø§Ù„Ø¨ÙŠÙƒ","Ø´Ø§ÙˆØ±Ù…Ø±","ÙƒÙˆØ¯Ùˆ","Ø¨Ø§Ø¨Ø§ Ø¬ÙˆÙ†Ø²","Ø¯Ø§Ù†ÙƒÙ†","ØªÙŠÙ… Ù‡ÙˆØ±ØªÙ†Ø²","Ø¨Ø§Ø³ÙƒÙ† Ø±ÙˆØ¨Ù†Ø²"],
  "ØªÙˆØ§ØµÙ„ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ": ["Ø¥Ù†Ø³ØªØºØ±Ø§Ù…","ØªÙˆÙŠØªØ±","ØªÙŠÙƒ ØªÙˆÙƒ","Ø³Ù†Ø§Ø¨ Ø´Ø§Øª","ÙÙŠØ³Ø¨ÙˆÙƒ","ÙŠÙˆØªÙŠÙˆØ¨","ÙˆØ§ØªØ³Ø§Ø¨","ØªÙŠÙ„ÙŠØºØ±Ø§Ù…","Ø±ÙŠØ¯ÙŠØª","Ù„ÙŠÙ†ÙƒØ¯ Ø¥Ù†","Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯","ØªÙˆÙŠØªØ´","Ø¨ÙŠÙ†ØªØ±Ø³Øª","Ø«Ø±ÙŠØ¯Ø²","Ø¨ÙŠ Ø±ÙŠÙ„"],
  "Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…": ["Ù…ØµØ±","Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©","Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª","Ø§Ù„ÙŠØ§Ø¨Ø§Ù†","ÙØ±Ù†Ø³Ø§","Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„","ØªØ±ÙƒÙŠØ§","Ø§Ù„Ù…ØºØ±Ø¨","Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§","Ø¥ÙŠØ·Ø§Ù„ÙŠØ§","Ø£Ù„Ù…Ø§Ù†ÙŠØ§","Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠØ§","Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†","ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©","Ø§Ù„Ù‡Ù†Ø¯","ÙƒÙ†Ø¯Ø§","Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§","Ø§Ù„Ù…ÙƒØ³ÙŠÙƒ","Ù‚Ø·Ø±","Ø§Ù„ÙƒÙˆÙŠØª"],
  "Ù…Ø¯Ù† Ø´Ù‡ÙŠØ±Ø©": ["Ø¯Ø¨ÙŠ","Ø§Ù„Ø±ÙŠØ§Ø¶","Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©","Ø¨Ø§Ø±ÙŠØ³","Ù„Ù†Ø¯Ù†","Ù†ÙŠÙˆÙŠÙˆØ±Ùƒ","Ø·ÙˆÙƒÙŠÙˆ","Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„","Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©","Ø±ÙˆÙ…Ø§","Ø£Ù…Ø³ØªØ±Ø¯Ø§Ù…","Ø¨Ø§Ù†ÙƒÙˆÙƒ","Ø³Ù†ØºØ§ÙÙˆØ±Ø©","Ù„ÙˆØ³ Ø£Ù†Ø¬Ù„ÙˆØ³","Ù…ÙˆØ³ÙƒÙˆ","Ù…Ø±Ø§ÙƒØ´","Ø¬Ø¯Ø©","Ø¨ÙŠØ±ÙˆØª","Ø§Ù„Ø¯ÙˆØ­Ø©","Ø£Ø¨ÙˆØ¸Ø¨ÙŠ"],
  "Ù…Ø³Ù„Ø³Ù„Ø§Øª": ["Ø¨Ø±ÙŠÙƒÙ†Øº Ø¨Ø§Ø¯","ØµØ±Ø§Ø¹ Ø§Ù„Ø¹Ø±ÙˆØ´","Ù„Ø§ ÙƒØ§Ø³Ø§ Ø¯ÙŠ Ø¨Ø§Ø¨ÙŠÙ„","Ø³ÙƒÙˆÙŠØ¯ ØºÙŠÙ…","Ø°Ø§ Ù„Ø§Ø³Øª Ø£ÙˆÙ Ø£Ø³","Ø³ØªØ±ÙŠÙ†Ø¯Ø¬Ø± Ø«ÙŠÙ†ØºØ²","Ø°Ø§ ÙˆÙŠØªØ´Ø±","ÙØ§ÙŠÙƒÙ†ØºØ²","Ø¨ÙŠÙƒÙŠ Ø¨Ù„Ø§ÙŠÙ†Ø¯Ø±Ø²","Ù†Ø§Ø±ÙˆØªÙˆ","ÙˆÙ† Ø¨ÙŠØ³","Ø¯Ø±Ø§ØºÙˆÙ† Ø¨ÙˆÙ„","Ø£ØªØ§Ùƒ Ø£ÙˆÙ† ØªØ§ÙŠØªØ§Ù†","Ø°Ø§ Ø¨ÙˆÙŠØ²","ÙˆÙŠÙ†Ø²Ø¯Ø§ÙŠ"],
  "Ø±ÙŠØ§Ø¶Ø§Øª": ["ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…","ÙƒØ±Ø© Ø§Ù„Ø³Ù„Ø©","Ø§Ù„ØªÙ†Ø³","Ø§Ù„Ø³Ø¨Ø§Ø­Ø©","Ø§Ù„Ù…Ù„Ø§ÙƒÙ…Ø©","Ø§Ù„ÙƒØ§Ø±Ø§ØªÙŠÙ‡","Ø§Ù„ØªØ§ÙŠÙƒÙˆÙ†Ø¯Ùˆ","Ø§Ù„Ø¬ÙˆØ¯Ùˆ","Ø§Ù„ÙÙˆØ±Ù…ÙˆÙ„Ø§ 1","Ø§Ù„ØºÙˆÙ„Ù","ÙƒØ±Ø© Ø§Ù„Ø·Ø§Ø¦Ø±Ø©","Ø§Ù„Ø±ØºØ¨ÙŠ","Ø§Ù„ÙƒØ±ÙŠÙƒÙŠØª","Ø±ÙƒÙˆØ¨ Ø§Ù„Ø®ÙŠÙ„","Ø§Ù„ØªØ²Ù„Ø¬"],
  "Ø·Ø¹Ø§Ù… ÙˆÙ…Ø´Ø±ÙˆØ¨Ø§Øª": ["Ø¨ÙŠØªØ²Ø§","Ø³ÙˆØ´ÙŠ","Ø¨Ø±ØºØ±","ÙƒØ¨Ø³Ø©","Ù…Ù†Ø³Ù","Ø´Ø§ÙˆØ±Ù…Ø§","ÙÙ„Ø§ÙÙ„","ÙƒØ´Ø±ÙŠ","Ø¨Ø§Ø³ØªØ§","ØªØ§ÙƒÙˆ","Ø¯ÙŠÙ… Ø³Ø§Ù…","ÙƒØ±ÙŠØ¨","Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ…","ÙƒÙ†Ø§ÙØ©","Ø¨Ù‚Ù„Ø§ÙˆØ©","Ù…ÙˆØ®ÙŠØªÙˆ","Ù‚Ù‡ÙˆØ© Ø¹Ø±Ø¨ÙŠØ©","Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø±","Ø³Ù…ÙˆØ°ÙŠ","Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ"],
  "Ø­ÙŠÙˆØ§Ù†Ø§Øª": ["Ø£Ø³Ø¯","Ù†Ù…Ø±","ÙÙ‡Ø¯","Ø°Ø¦Ø¨","Ø¯Ø¨","ÙÙŠÙ„","Ø²Ø±Ø§ÙØ©","Ø¨Ø·Ø±ÙŠÙ‚","Ø¯ÙˆÙ„ÙÙŠÙ†","Ù†Ø³Ø±","ØµÙ‚Ø±","Ø­ØµØ§Ù†","Ø«Ø¹Ø¨Ø§Ù†","ØªÙ…Ø³Ø§Ø­","Ù‚Ø±Ø´","Ø£Ø®Ø·Ø¨ÙˆØ·","Ø¨Ø§Ù†Ø¯Ø§","ÙƒÙˆØ§Ù„Ø§","ØºÙˆØ±ÙŠÙ„Ø§","Ø·Ø§ÙˆÙˆØ³"],
  "Ø£Ù…Ø§ÙƒÙ† ÙˆÙ…Ø¹Ø§Ù„Ù…": ["Ø¨Ø±Ø¬ Ø¥ÙŠÙÙ„","Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§Øª","Ø¨Ø±Ø¬ Ø®Ù„ÙŠÙØ©","ØªØ§Ø¬ Ù…Ø­Ù„","Ø³ÙˆØ± Ø§Ù„ØµÙŠÙ†","Ø§Ù„ÙƒÙˆÙ„ÙˆØ³ÙŠÙˆÙ…","Ù…Ø§ØªØ´Ùˆ Ø¨ÙŠØªØ´Ùˆ","Ø§Ù„Ø¨ØªØ±Ø§Ø¡","Ø¨Ø±Ø¬ Ø¨ÙŠØ²Ø§","ØªÙ…Ø«Ø§Ù„ Ø§Ù„Ø­Ø±ÙŠØ©","Ø³Ø§Ø¹Ø© Ø¨ÙŠØº Ø¨Ù†","Ø§Ù„Ø­Ø±Ù… Ø§Ù„Ù…ÙƒÙŠ","Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰","Ø¢ÙŠØ§ ØµÙˆÙÙŠØ§","Ø£ÙˆØ¨Ø±Ø§ Ø³ÙŠØ¯Ù†ÙŠ"],
  "Ù…Ù‡Ù† ÙˆÙˆØ¸Ø§Ø¦Ù": ["Ø·Ø¨ÙŠØ¨","Ù…Ù‡Ù†Ø¯Ø³","Ù…Ø­Ø§Ù…ÙŠ","Ø·ÙŠØ§Ø±","Ø±Ø§Ø¦Ø¯ ÙØ¶Ø§Ø¡","Ø´ÙŠÙ","Ù…ØµÙˆØ±","ØµØ­ÙÙŠ","Ù…Ø¹Ù„Ù…","Ù…Ø¨Ø±Ù…Ø¬","Ù…ØµÙ…Ù…","Ù…Ø¹Ù…Ø§Ø±ÙŠ","Ø¬Ø±Ø§Ø­","ØµÙŠØ¯Ù„ÙŠ","Ø¯Ø¨Ù„ÙˆÙ…Ø§Ø³ÙŠ","Ù…ØªØ±Ø¬Ù…","Ø±Ø¬Ù„ Ø¥Ø·ÙØ§Ø¡","Ù…Ø­Ù‚Ù‚","Ù‚Ø¨Ø·Ø§Ù†","Ø¹Ø§Ù„Ù… Ø¢Ø«Ø§Ø±"],
  "Ø£Ù„Ø¹Ø§Ø¨ ÙÙŠØ¯ÙŠÙˆ": ["Ù…Ø§ÙŠÙ†ÙƒØ±Ø§ÙØª","ÙÙˆØ±ØªÙ†Ø§ÙŠØª","Ø¬ÙŠ ØªÙŠ Ø£ÙŠÙ‡","ÙÙŠÙØ§","ÙƒÙˆÙ„ Ø£ÙˆÙ Ø¯ÙŠÙˆØªÙŠ","Ø¥Ù„Ø¯Ù† Ø±ÙŠÙ†Øº","Ø²ÙŠÙ„Ø¯Ø§","Ù…Ø§Ø±ÙŠÙˆ","ØºÙˆØ¯ Ø£ÙˆÙ ÙˆÙˆØ±","Ø°Ø§ Ù„Ø§Ø³Øª Ø£ÙˆÙ Ø£Ø³","Ø£Ø³Ø§Ø³ÙŠÙ†Ø² ÙƒØ±ÙŠØ¯","Ø£Ù†Ø´Ø§Ø±ØªØ¯","Ø±ÙŠØ²Ø¯Ù†Øª Ø¥ÙŠÙÙ„","Ø³Ø§ÙŠØ¨Ø±Ø¨Ø§Ù†Ùƒ","Ø±ÙˆÙƒÙŠØª Ù„ÙŠØº","Ø£Ù…ÙˆÙ†Øº Ø£Ø³","ÙØ§Ù„ÙˆØ±Ø§Ù†Øª","Ù„ÙŠØº Ø£ÙˆÙ Ù„ÙŠØ¬Ù†Ø¯Ø²","Ø£ÙˆÙØ±ÙˆØ§ØªØ´","Ø¥ÙŠØ¨ÙƒØ³ Ù„ÙŠØ¬Ù†Ø¯Ø²"]
};

const ICONS = {
  "Ø´Ø®ØµÙŠØ§Øª Ø±ÙŠØ§Ø¶ÙŠØ©":"âš½","ÙÙ†Ø§Ù†ÙˆÙ† ÙˆÙ…Ø´Ø§Ù‡ÙŠØ±":"ğŸ¬","Ø¹Ù„Ù…Ø§Ø¡ ÙˆÙ…ÙÙƒØ±ÙˆÙ†":"ğŸ”¬",
  "Ù…Ø§Ø±ÙƒØ§Øª ØªÙ‚Ù†ÙŠØ©":"ğŸ’»","Ø³ÙŠØ§Ø±Ø§Øª":"ğŸï¸","Ù…Ø§Ø±ÙƒØ§Øª Ù…Ù„Ø§Ø¨Ø³":"ğŸ‘”",
  "Ù…Ø·Ø§Ø¹Ù… ÙˆØ³Ù„Ø§Ø³Ù„":"ğŸ”","ØªÙˆØ§ØµÙ„ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ":"ğŸ“±","Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…":"ğŸŒ",
  "Ù…Ø¯Ù† Ø´Ù‡ÙŠØ±Ø©":"ğŸ™ï¸","Ù…Ø³Ù„Ø³Ù„Ø§Øª":"ğŸ“º","Ø±ÙŠØ§Ø¶Ø§Øª":"ğŸ†",
  "Ø·Ø¹Ø§Ù… ÙˆÙ…Ø´Ø±ÙˆØ¨Ø§Øª":"ğŸ•","Ø­ÙŠÙˆØ§Ù†Ø§Øª":"ğŸ¦","Ø£Ù…Ø§ÙƒÙ† ÙˆÙ…Ø¹Ø§Ù„Ù…":"ğŸ—¼",
  "Ù…Ù‡Ù† ÙˆÙˆØ¸Ø§Ø¦Ù":"ğŸ‘¨â€âš•ï¸","Ø£Ù„Ø¹Ø§Ø¨ ÙÙŠØ¯ÙŠÙˆ":"ğŸ®"
};

function rand(max) {
  const a = new Uint32Array(1);
  crypto.getRandomValues(a);
  return a[0] % max;
}

function pick(cat) {
  if (cat === "Ø¹Ø´ÙˆØ§Ø¦ÙŠ") {
    const k = Object.keys(CATEGORIES);
    const c = k[rand(k.length)];
    return CATEGORIES[c][rand(CATEGORIES[c].length)];
  }
  return CATEGORIES[cat][rand(CATEGORIES[cat].length)];
}

function App() {
  const [phase, setPhase] = useState("setup");
  const [count, setCount] = useState(5);
  const [cat, setCat] = useState(null);
  const [word, setWord] = useState("");
  const [killer, setKiller] = useState(-1);
  const [cur, setCur] = useState(0);
  const [shown, setShown] = useState(false);
  const [spoiler, setSpoiler] = useState({ killer: false, word: false });

  const start = useCallback(() => {
    if (!cat) return;
    const w = pick(cat);
    const k = rand(count);
    setWord(w); setKiller(k);
    setCur(0); setShown(false);
    setPhase("reveal");
  }, [cat, count]);

  const next = () => {
    if (cur + 1 >= count) {
      setSpoiler({ killer: false, word: false });
      setPhase("done");
    } else {
      setCur(c => c + 1);
      setShown(false);
    }
  };

  const replay = () => {
    const w = pick(cat);
    const k = rand(count);
    setWord(w); setKiller(k);
    setCur(0); setShown(false);
    setPhase("reveal");
  };

  const reset = () => {
    setPhase("setup"); setCat(null); setCount(5);
    setWord(""); setKiller(-1); setCur(0); setShown(false);
  };

  const isK = cur === killer;
  const keys = Object.keys(CATEGORIES);

  return (
    <div className="app-wrapper">
      <div className="noise-overlay" />
      <div className="container">

        {phase === "setup" && <>
          <div className="header">
            <div className="logo-icon">ğŸ”ª</div>
            <h1>Ù„Ø¹Ø¨Ø© Ø§Ù„Ù‚Ø§ØªÙ„</h1>
            <p>Ø§ÙƒØªØ´Ù Ø§Ù„Ù‚Ø§ØªÙ„ Ø¨ÙŠÙ† Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</p>
          </div>

          <div className="section">
            <div className="section-label">Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</div>
            <div className="counter-card">
              <div className="counter-info">
                <div className="counter-icon">ğŸ‘¥</div>
                <div className="counter-text">
                  <h3>Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ†</h3>
                  <span>Ù£ - Ù¡Ù¢ Ù„Ø§Ø¹Ø¨</span>
                </div>
              </div>
              <div className="counter-controls">
                <button className="counter-btn" onClick={() => setCount(c => Math.max(3, c-1))} disabled={count <= 3}>âˆ’</button>
                <span className="counter-value">{count}</span>
                <button className="counter-btn" onClick={() => setCount(c => Math.min(12, c+1))} disabled={count >= 12}>+</button>
              </div>
            </div>
          </div>

          <div className="section">
            <div className="section-label">Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©</div>
            <div className="scroll-cats">
              <div className="category-grid">
                <button className={`cat-btn random-btn ${cat === "Ø¹Ø´ÙˆØ§Ø¦ÙŠ" ? "selected" : ""}`} onClick={() => setCat("Ø¹Ø´ÙˆØ§Ø¦ÙŠ")}>
                  <span className="cat-emoji">ğŸ²</span>
                  <span className="cat-name">Ø¹Ø´ÙˆØ§Ø¦ÙŠ</span>
                </button>
                {keys.map(k => (
                  <button key={k} className={`cat-btn ${cat === k ? "selected" : ""}`} onClick={() => setCat(k)}>
                    <span className="cat-emoji">{ICONS[k]}</span>
                    <span className="cat-name">{k}</span>
                  </button>
                ))}
              </div>
            </div>
          </div>

          <button className={`start-btn ${cat ? "ready" : ""}`} onClick={start} disabled={!cat}>
            {cat ? "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø© ğŸš€" : "Ø§Ø®ØªØ± ÙØ¦Ø© Ø£ÙˆÙ„Ø§Ù‹"}
          </button>
        </>}

        {phase === "reveal" && (
          <div className="reveal-screen">
            <div className="player-badge">
              <span>Ø¯ÙˆØ±</span>
              <span className="num">Ù„Ø§Ø¹Ø¨ {cur + 1}</span>
              <span>Ù…Ù† {count}</span>
            </div>
            <div className="progress-bar">
              <div className="progress-fill" style={{ width: `${((cur + (shown ? 1 : 0)) / count) * 100}%` }} />
            </div>

            {!shown ? (
              <div className="waiting-state">
                <div className="waiting-icon">ğŸ”’</div>
                <div className="waiting-title">Ù„Ø§Ø¹Ø¨ {cur + 1}</div>
                <div className="waiting-sub">Ø³Ù„Ù‘Ù… Ø§Ù„Ø¬Ù‡Ø§Ø² Ù„Ù„Ø§Ø¹Ø¨ {cur + 1}<br/>ÙˆØ§Ø¶ØºØ· Ø§Ù„Ø²Ø± Ù„ÙƒØ´Ù Ø¯ÙˆØ±Ùƒ</div>
                <button className="reveal-btn" onClick={() => setShown(true)}>Ø§ÙƒØ´Ù Ø¯ÙˆØ±Ùƒ ğŸ‘ï¸</button>
              </div>
            ) : (
              <div className="role-reveal">
                <div className={`role-card ${isK ? "killer" : "innocent"}`}>
                  <div className="role-icon">{isK ? "ğŸ”ª" : "ğŸ˜‡"}</div>
                  <div className="role-label">{isK ? "Ø£Ù†Øª Ø§Ù„Ù‚Ø§ØªÙ„!" : "Ø£Ù†Øª Ø¨Ø±ÙŠØ¡"}</div>
                  {isK ? (
                    <div className="killer-sub">Ø­Ø§ÙˆÙ„ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±ÙŠØ© Ø¯ÙˆÙ† Ø£Ù† ÙŠÙ†ÙƒØ´Ù Ø£Ù…Ø±Ùƒ</div>
                  ) : (
                    <>
                      <div className="role-hint">Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±ÙŠØ©</div>
                      <div className="secret-word">{word}</div>
                    </>
                  )}
                </div>
                <button className={`next-player-btn ${isK ? "killer-next" : "innocent-next"}`} onClick={next}>
                  {cur + 1 >= count ? "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ØªÙˆØ²ÙŠØ¹ âœ“" : `Ø§Ù„ØªØ§Ù„ÙŠ â† Ù„Ø§Ø¹Ø¨ ${cur + 2}`}
                </button>
              </div>
            )}
          </div>
        )}

        {phase === "done" && (
          <div className="end-screen">
            <div className="end-icon">ğŸ­</div>
            <div className="end-title">Ø§Ø¨Ø¯Ø£ÙˆØ§ Ø§Ù„Ù„Ø¹Ø¨!</div>
            <div className="end-sub">ÙƒÙ„ Ù„Ø§Ø¹Ø¨ ÙŠØ¹Ø·ÙŠ ØªÙ„Ù…ÙŠØ­ Ø¹Ù† Ø§Ù„ÙƒÙ„Ù…Ø©<br/>Ø§Ù„Ù‚Ø§ØªÙ„ ÙŠØ­Ø§ÙˆÙ„ Ø§Ù„ØªÙ…ÙˆÙŠÙ‡<br/>ØµÙˆØªÙˆØ§ Ù„ÙƒØ´Ù Ø§Ù„Ù‚Ø§ØªÙ„!</div>
            <div className="end-info-grid">
              <div className="end-info-item">
                <div className="label">Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</div>
                <div className="value">{count}</div>
              </div>
              <div className="end-info-item">
                <div className="label">Ø§Ù„ÙØ¦Ø©</div>
                <div className="value">{cat}</div>
              </div>
              <div className="end-info-item" onClick={() => setSpoiler(s => ({...s, killer: !s.killer}))}>
                <div className="label">Ø§Ù„Ù‚Ø§ØªÙ„</div>
                <div className={`value red spoiler-blur ${spoiler.killer ? "show" : ""}`}>Ù„Ø§Ø¹Ø¨ {killer + 1}</div>
                {!spoiler.killer && <div className="spoiler-hint">Ø§Ø¶ØºØ· Ù„Ù„ÙƒØ´Ù</div>}
              </div>
              <div className="end-info-item" onClick={() => setSpoiler(s => ({...s, word: !s.word}))}>
                <div className="label">Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±ÙŠØ©</div>
                <div className={`value gold spoiler-blur ${spoiler.word ? "show" : ""}`}>{word}</div>
                {!spoiler.word && <div className="spoiler-hint">Ø§Ø¶ØºØ· Ù„Ù„ÙƒØ´Ù</div>}
              </div>
            </div>
            <button className="restart-btn" onClick={replay}>Ø¬ÙˆÙ„Ø© Ø¬Ø¯ÙŠØ¯Ø© ğŸ”„</button>
            <button className="new-game-btn" onClick={reset}>ØªØºÙŠÙŠØ± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
          </div>
        )}
      </div>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App />);
</script>
</body>
</html>
